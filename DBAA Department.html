<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Local Paging Consultation</title>
  <link rel="stylesheet" href="acad_head.css" />
  <!-- Font Awesome Cdn Link -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"/>
  <style>
    /* Style for the dialog box */
    .dialog-box {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: rgb(251, 255, 0);
      padding: 20px;
      border: 1px solid #000000;
      box-shadow: 0 4px 6px rgba(116, 115, 115, 0.1);
    }
        /* Add a new class for the card container */
        .card-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
    }

    /* Style for each card */
    .card {
      width: calc(12.5% - 20px); /* 8 columns with margin between cards */
      margin-bottom: 20px;
      /* Your existing card styles */
    }
  </style>
</head>
<body>
  <div class="container">
    <nav>
      <ul>
        <li><a href="#" class="logo">
          <img src="./STI LOGO.png">
          <span class="nav-item">Paging System</span>
        </a></li>
        <li><a href="ICT-ENGG Department.html">
          <span class="nav-item">ICT-ENG'G Department</span>
        </a></li>
        <li><a href="DBAA Department.html">
          <span class="nav-item">DBAA Department</span>
        </a></li>
        <li><a href="GE and BACOMM Department.html">
          <span class="nav-item">GE and BACOMM Department</span>
        </a></li>
        <li><a href="THM Department.html">
          <span class="nav-item">THM Department</span>
        </a></li>
        <li><a href="SHS Department.html">
          <span class="nav-item">SHS Department</span>
        </a></li>

        <li><a href="#" class="logout">
          <i class="fas fa-sign-out-alt"></i>
          <span class="nav-item">Log out</span>
        </a></li>
      </ul>
    </nav>

    <section class="main">
      <div class="main-top">
        <h1>DBAA Department Consultation Hours</h1>
        <i class="fas fa-user-cog"></i>
      </div>
      <div class="users">
        <div class="users">
            <div class="card-container">
        <!-- ICT-ENGG Department Consultation Hours (PAGING SOUNDS) -->
        <div class="card">
          <img src="ALL DEPARTMENTS PICTURES\DBAA Department Consultation Hours (PICTURES)\Jerome Salinas.png">
          <h4>Jerome Salinas</h4>
          <p>DBAA DEPARTMENT</p>
          <div class="per">
            <audio id="salinasAudio"> 
              <source src="ALL DEPARTMENTS PAGING SOUNDS\DBAA Department Consultation Hours (PAGING SOUNDS)\Paging for Mr. Jerome Salinas.m4a">
            </audio>
            <button id="salinasButton" type="button" onclick="pageProfessor('salinas')">Page</button>
            <!-- Dialog box code -->
            <div id="salinasDialogBox" class="dialog-box">
              <p>You've reached the maximum attempts for this professor.</p>
            </div>
          </div>
        </div>
        
        <div class="card">
          <img src="ALL DEPARTMENTS PICTURES\DBAA Department Consultation Hours (PICTURES)\Misael Carlos.png">
          <h4>Misael Carlos</h4>
          <p>DBAA DEPARTMENT</p>
          <div class="per">
            <audio id="carlosAudio"> 
              <source src="ALL DEPARTMENTS PAGING SOUNDS\DBAA Department Consultation Hours (PAGING SOUNDS)\Paging for Mr. Misael Carlos.m4a">
            </audio>
            <button id="carlosButton" type="button" onclick="pageProfessor('carlos')">Page</button>
            <!-- Dialog box code -->
            <div id="carlosDialogBox" class="dialog-box">
              <p>You've reached the maximum attempts for this professor.</p>
            </div>
          </div>
        </div>

        <div class="card">
          <img src="ALL DEPARTMENTS PICTURES\DBAA Department Consultation Hours (PICTURES)\Melinda Garcia.png">
          <h4>Melinda Garcia</h4>
          <p>DBAA DEPARTMENT</p>
          <div class="per">
            <audio id="garciaAudio"> 
              <source src="ALL DEPARTMENTS PAGING SOUNDS\DBAA Department Consultation Hours (PAGING SOUNDS)\Paging for Mrs. Melinda Garcia.m4a">
            </audio>
            <button id="garciaButton" type="button" onclick="pageProfessor('garcia')">Page</button>
            <!-- Dialog box code -->
            <div id="garciaDialogBox" class="dialog-box">
              <p>You've reached the maximum attempts for this professor.</p>
            </div>
          </div>
        </div>
        
        <script>
          var attempts = {}; // Using an object to store attempts for each professor
          var maxAttempts = 3;
          var intervalIds = {}; // Using an object to store interval IDs for each professor
        
          function playAudio(audioElement) {
            audioElement.play();
          }
        
          function showDialogBox(dialogBox) {
            dialogBox.style.display = "block";
            setTimeout(function() {
              dialogBox.style.display = "none";
            }, 3000); // Hide the dialog box after 3 seconds
          }
        
          function pageProfessor(professor) {
            if (!attempts[professor]) {
              attempts[professor] = 0;
            }
        
            if (attempts[professor] >= maxAttempts) {
              clearInterval(intervalIds[professor]);
              document.getElementById(professor + 'Button').disabled = true;
              showDialogBox(document.getElementById(professor + 'DialogBox'));
              return;
            }
        
            var audioElement = document.getElementById(professor + 'Audio');
            playAudio(audioElement);
            attempts[professor]++;
        
            // Disable the button temporarily and set an interval to enable it again
            document.getElementById(professor + 'Button').disabled = true;
            intervalIds[professor] = setInterval(function() {
              document.getElementById(professor + 'Button').disabled = false;
              clearInterval(intervalIds[professor]);
            }, 5000); // Enable button after 5 seconds
          }
        </script>
</tbody>
</html>